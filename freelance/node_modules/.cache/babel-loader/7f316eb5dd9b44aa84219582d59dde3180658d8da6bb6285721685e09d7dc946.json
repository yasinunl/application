{"ast":null,"code":"import axios from \"axios\";\naxios.defaults.baseURL = \"http://127.0.0.1:5000/api/\";\naxios.interceptors.response.use(res => res, async error => {\n  if (error.response.status === 401) {\n    try {\n      const response = await axios.post('/user/refresh', {}, {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem(\"refresh_token\")\n        }\n      });\n      localStorage.setItem(\"access_token\", response.headers.access_token);\n      if (response.status === 200) {\n        return axios(error.config);\n      }\n    } catch {\n      return;\n    }\n  }\n  return error;\n});","map":{"version":3,"names":["axios","defaults","baseURL","interceptors","response","use","res","error","status","post","headers","Authorization","localStorage","getItem","setItem","access_token","config"],"sources":["D:/Yasinn/React/freelance/src/interceptors/axios.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"http://127.0.0.1:5000/api/\"\r\n\r\naxios.interceptors.response.use(\r\n    res => res,async error => {\r\n        if(error.response.status === 401){\r\n            try{\r\n                const response = await axios.post('/user/refresh', {},{\r\n                    headers:{\r\n                        Authorization: 'Bearer ' + localStorage.getItem(\"refresh_token\")\r\n                      }\r\n                });\r\n                localStorage.setItem(\"access_token\", response.headers.access_token)\r\n            if (response.status === 200){\r\n                return axios(error.config)\r\n            }\r\n            }catch{\r\n                return \r\n            }\r\n                \r\n        }\r\n        return error;\r\n    }\r\n)"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzBA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAG,4BAA4B;AAErDF,KAAK,CAACG,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC3BC,GAAG,IAAIA,GAAG,EAAC,MAAMC,KAAK,IAAI;EACtB,IAAGA,KAAK,CAACH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAC;IAC7B,IAAG;MACC,MAAMJ,QAAQ,GAAG,MAAMJ,KAAK,CAACS,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,EAAC;QAClDC,OAAO,EAAC;UACJC,aAAa,EAAE,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe;QACjE;MACN,CAAC,CAAC;MACFD,YAAY,CAACE,OAAO,CAAC,cAAc,EAAEV,QAAQ,CAACM,OAAO,CAACK,YAAY,CAAC;MACvE,IAAIX,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAC;QACxB,OAAOR,KAAK,CAACO,KAAK,CAACS,MAAM,CAAC;MAC9B;IACA,CAAC,OAAK;MACF;IACJ;EAEJ;EACA,OAAOT,KAAK;AAChB,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}